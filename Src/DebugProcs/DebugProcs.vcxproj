<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" ToolsVersion="Current" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="..\..\Build\FieldWorks.proj" />
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <ProjectGuid>{E76E8661-15FF-4E9D-AA76-66C4669E5164}</ProjectGuid>
    <fwrt>$(MSBuildProjectDirectory)\..\..</fwrt>
  </PropertyGroup>
  <ItemGroup>
    <ClCompile Include="DebugProcs.cpp" />
  </ItemGroup>
  <ItemGroup>
    <ClInclude Include="DebugProcs.h" />
  </ItemGroup>
  <ItemGroup>
    <None Include="DebugProcs.mak" />
  </ItemGroup>
  <Import Project="$(fwrt)/packages/Icu4c.Win.Fw.Lib.$(IcuWinFwLibVersion)/build/Icu4c.Win.Fw.Lib.props" />
  <Import Project="$(VCTargetsPath)/Microsoft.Cpp.Common.props" />
  <Target Name="Build" DependsOnTargets="CopyKernelInterfaces">
    <!-- REVIEW (Hasso) 2023.01: This is almost identical to the target DebugProcs in mkall.targets. Can they be combined? -->
    <Error
      Text="Icu lib directory not defined in IcuFwLibDirectoryX64 (check nuget package), build will fail."
      Condition="'$(IcuFwLibDirectoryX64)'==''" />
    <Make ToolPath="$(VCToolsInstallDir)\bin\Hostx64\x64"
          Makefile="$(fwrt)\Src\DebugProcs\DebugProcs.mak"
          Configuration="$(Configuration)"
          BuildRoot="$(fwrt)"
          BuildArch="'$(Platform)'"
          Macros="EXTRA_INCLUDE=$(IcuFwIncludeDirectory) EXTRA_LINK_OPTS=/LIBPATH:$(IcuFwLibDirectoryX64)"
          WorkingDirectory="$(fwrt)\Src\DebugProcs"/>
    <Message Text="Finished building DebugProcs."/>
  </Target>
</Project>