<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003" ToolsVersion="4.0">
	<PropertyGroup>
		<Bin>../../../Bin</Bin>
	</PropertyGroup>
	<ItemGroup>
		<WriteKeyFiles Include="WriteKey.exe" />
		<WriteKeyFiles Include="WriteKey.exe.manifest" />
	</ItemGroup>
	<ItemGroup>
		<WriteKeyFilesSource Include="@(WriteKeyFiles -&gt; '$(Bin)/%(Identity)')" />
	</ItemGroup>
	<ItemGroup>
		<EnchantProviders Include="../../../DistFiles/lib/enchant/*"/>
	</ItemGroup>
	<ItemGroup>
		<EnchantProvidersOutput Include="$(OutDir)/lib/enchant/*.dll"/>
	</ItemGroup>
	<Target Name="AfterClean" DependsOnTargets="DeleteCopiedPalasoDlls">
		<Delete Files="@(OutputFiles)" ContinueOnError="true"/>
		<Message Importance="high" Text="Delete: %(WriteKeyFilesSource.FullPath)" />
		<Delete Files="@(WriteKeyFiles -&gt; '$(OutDir)/%(Identity)')" ContinueOnError="true" />
		<Message Importance="high" Text="Delete: %(EnchantProvidersOutput.FullPath)" />
		<Delete Files="@(EnchantProvidersOutput)" ContinueOnError="true" />
	</Target>
	<Target Name="BeforeBuild" DependsOnTargets="CopyPalasoDlls">
		<!-- whatever commands we need to run before the rest of the build-->
		<Copy SourceFiles="@(PalasoFilesSource)" DestinationFolder="$(OutDir)" OverwriteReadOnlyFiles="true" SkipUnchangedFiles="true"/>
		<Message Importance="high" Text="Copying %(WriteKeyFilesSource.FullPath) to $(OutDir)" />
		<Copy SourceFiles="@(WriteKeyFilesSource)" DestinationFolder="$(OutDir)" OverwriteReadOnlyFiles="true" SkipUnchangedFiles="true" />
		<Copy SourceFiles="@(EnchantProviders)" DestinationFolder="$(OutDir)/lib/enchant" OverwriteReadOnlyFiles="true" SkipUnchangedFiles="true" />
	</Target>
</Project>