<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003" ToolsVersion="4.0">

  <!-- Localize all resx files -->
  <Target Name="localize" DependsOnTargets="copyLocalizedLists;processLanguages"/>


  <!-- Copy LocalizedList-*.xml files from Localizations to distfiles -->
  <ItemGroup>
	<LocalizedListFiles Include="$(fwrt)/Localizations/LocalizedLists-*.xml"/>
  </ItemGroup>
  <Target Name="copyLocalizedLists">
	<Copy SourceFiles="@(LocalizedListFiles)" DestinationFolder="$(fwroot)/DistFiles/Templates" SkipUnchangedFiles="true"/>
  </Target>

  <!-- Main target for processing all .po files -->
  <UsingTask TaskName="LocalizeFieldWorks" AssemblyFile="FwBuildTasks.dll"/>
  <Target Name="processLanguages">
	  <LocalizeFieldWorks RootDirectory="$(fwroot)" Config="$(config)"/>
  </Target>

</Project>
